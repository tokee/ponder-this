/*
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 *
 */
package dk.ekot.eternii;

import junit.framework.TestCase;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import java.util.function.BiFunction;
import java.util.function.Function;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

/**
 * Takes a partly solved puzzle and fills the blanks, even when they produce an illegal solution.
 */
public class FillerTest extends TestCase {
    private static final Logger log = LoggerFactory.getLogger(FillerTest.class);

    private static final Pattern BUCAS_PIECES = Pattern.compile(".*board_edges=([a-z]*).*");

    public void testValidFiller() {
        // teg: 245 https://e2.bucas.name/#puzzle=ThomasEgense&board_w=16&board_h=16&board_edges=adcaaendabteabgbacvbadtcadhdadidafwdafufafgfaelfafqeacrfaencaabecocanjrottpjgwstvwtwtgiwhhlgiqphwtqqusrtgrusluqrqnourqunnqoqbaeqcrbarmorpjnmskqjtnlkiomnlnkopgtnqmqgrwmmuiowqwoiovuwusuvoqwseacqbveaomjvnlomqttllgmtmkigkntktksnqtjkmsutowmsokuwuhwkukjhwhqkcabhepbajijpommitplmmmupijjmtrujsjprjlijugolmspguhlswqlhjklqqhmkbafhbpcajpppmiwpllkiulpljmllulwmprilijjroqtjpqrqlvmqlrwvlslrmtrsfabtckfapllkwvwlkokvpprolsnpwuwsisoujgistgigrtrgmqntwlrqloglrhmobachfoeallwowvvlkvwvrkhvnvokwkrvoggkiiwgigqirjkgnthjrkgtgikkmhgicafhemfawksmvrtkwhtrhunhoujurijuggjiwwvgquiwksiuhwusgsjwkppsgnkpfacnfjbasiujtvvitkuvnhskjumhjvmujgwvvvlgijvvistjuvpsjqovphjqkprhcadpboeaunkovhunusthsphsmonpmmsowuhmlkvuvrnktrqrphkrourhjosuriqodaciepdakrwpuhhrtvphhnlvnnsnspwnhhrpvjshnnvjqosnkqmorpnqstopqvntcafvdgcawqnghwmqppvwloupslgowoklrglosqugvgtqsgvgmpqgnsvpoiisnqwifafqcsbanhlsmrmhvmtraaaagtnqaaaaaaaaaaaaaaaaaaaaqiklaaaaijnvaaaafadubjbaaaaamnwlaaaalhuqaaaailirthjlsjuhovmjntovkmttrgtmnnpgigpndadgbdaasdadweadteaeueaeseaeibaejfabubafmdabofadtdafteadpcaepcacdaac

        String G2_197 = "https://e2.bucas.name/#puzzle=displayTest&board_w=16&board_h=16&board_edges=abdaafhbackfacpcabhcabgbabjbacsbaencadweadgdaendafoeaelfaeueaabedsdahvjskvwvpsuvhwusgiiwjjlisiujngriwvjggtqvnqgtovjqlrwvujtrbafjdpcajnmpwlmnulpluqrliklqlqjkuiwqriliaaaaaaaagsjwjuhswswutgwsfafgcrbamorrmjvopppjropplnkojminwksmlwokaaaaaaaajrijhourwmsowuhmfadubjfaronjvntopmonpqgmkwhqiliwsuhloujuaaaaaaaaiigquksisntkhhundadhfqeangwqtmrgokqmgrjkhmoriwpmhtrwjkqtaaaaaaaaghhlssphtopsuisodacieqbaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaahjqpprsjpnqrspwncabpbtfaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaqorislgoqttlwhptbachfufamhjukrphwpkrloupmmsohmrmijjmaaaaaaaaaaaarkmngtrktkmtpgnkcadgfvcajnnvpgnnkoggunkosnnnrqunjskqaaaaaaaaaaaamkigrvmkmtrvnpgtdaepcrfankvrnvokgsgvksssnhlsaaaaaaaaaaaaaaaaaaaaijurmlljrlslgvvleabvfwdavwtwokuwgikksoiillwoaaaaaaaaaaaaaaaaaaaauvtklwvvsoqwvuwobafudidatvviusuvknhsiomnwuioaaaaaaaaaaaaaaaaaaaattpjvphtqrqpwmmrfaemdofavmjoujvmhhwjmkqhillkaaaaaaaaaaaaaaaaaaaaphiqhruhqvprmqlveacqfhcajlthvhnlwmqhqntmlktnaaaaaaaaaaaaaaaaaaaailprugolpniglomncacocdaatcadnfacqfaftdafteadteaeseaepcaevbacteabpbaeoeabibaemdabcaad";

        // With duplicate reduction
        String G2_202 = "Attempts: 2875124K, placed=155|202, att/sec=110K, possible=2e+59 best=https://e2.bucas.name/#puzzle=displayTest&board_w=16&board_h=16&board_edges=abdaafhbackfacpcabhcabgbabjbacsbaencadweadgdaendafoeaelfaeueaabedsdahvjskvwvpsuvhwusgiiwjjlisiujngriwvjggtqvnqgtovjqlrwvujtrbafjdpcajnmpwlmnulpluqrliklqlqjkuiwqrilijnviqwingsjwjuhswswutgwsfafgcrbamorrmjvopppjropplnkojminwksmlwokaaaaaaaajrijhourwmsowuhmfadubjfaronjvntopmonpqgmkwhqiliwsuhloujuaaaaaaaaiigquksisntkhhundadhfqeangwqtmrgokqmgrjkhmoriwpmhtrwjkqtaaaaaaaaghhlssphtopsuisodacieqbaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaahjqpprsjpnqrspwncabpbtfaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaqorislgoqttlwhptbachfufamhjuhrphwpkrloupmmsohmrmijjmaaaaaaaaaaaarkmngtrktkmtpgnkcadgfvcajnnvpgnnkoggunkosnnnrqunjskqaaaaaaaaaaaamkigrvmkmtrvnpgtdaepcrfankvrnvokgsgvksssnhlsaaaaaaaaaaaaaaaaaaaaijurmlljrlslgvvleabvfwdavwtwokuwgikksoiillwoaaaaaaaaaaaaaaaaaaaauvtklwvvsoqwvuwobafudidatvviusuvknhsiomnwuioaaaaaaaaaaaaaaaaaaaattpjvphtqrqpwmmrfaemdofavmjoujvmhhwjmkqhillkaaaaaaaaaaaaaaaaaaaaphiqhruhqvprmqlveacqfhcajlthvhnlwmqhqntmlktnppskvwppkrvwaaaaaaaailprugolpniglomncacocdaatcadnfacqfaftdafteadseaepcaevbacteabteaepbaeoeabibaemdabcaad";

        // No duplicate reduction
        String G2_207 = "https://e2.bucas.name/#puzzle=displayTest&board_w=16&board_h=16&board_edges=abdaafhbackfacocacpcabhcacrbadgcadgdaepdacqeaencadteabmdaeibaabedsdahvjskvwvomjvpjnmhhwjrphhgnkpgrinpnqrqgtnnnpgtmqnmrwmijjrbafjdhdajnthwlmnjmllnlomaaaaaaaaaaaaiomnqnqotksnprhkqunrwswujgisfafgdweatwvwmsowlrlsonjraaaaaaaaaaaamwksqngwspwnhiqpnqwiwsoqiujsfaduepbavwppoiqwlirijnviaaaaaaaaaaaakigmgqiiwlrqqiklwtgiovntjnnvdaenbjfapppjqgmprusgvgouaaaaaaaaaaaagoluiqoortrqkuvtgsqunqosnouqeabofqfaphjqmrmhsmtrorrmaaaaaaaaaaaaaaaaaaaarwpkvwlwqlhworglujtrbabjfufajosummiottkmrkgtaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaatvvibacvfubasuvuiowuaaaaaaaaaaaaaaaaijjmaaaaaaaaaaaaaaaaaaaaaaaavvlgcafvbveavijvwiliaaaaaaaaaaaaaaaaaaaavlrwhuqlsrtutrgrvmkrtlgmloglfadoeseajprsllkpghhlvrkhuhhraaaaaaaarkmnqmoktrvmgtmrkvrtgwwvgiiwdadietearwhtkuhwhsjukppshsspaaaaaaaamsutouisvpsumonprhmowushiwqudafweueahmwuhjumjlijplulsnhlaaaaaaaauksiillksuhlnvhumjovskqjqtjkfabtelfawmulujvmijpjurijhouraaaaaaaasksslqjkhwmqhqkworiqqvprjgwvbabgfhcausthvpnspropilpruqrlwtqqtlqtsnpljminmupmkjhuistjpgmswstgbacscdaatcadnfacoeafpcaerfacqeafqbaepcabidacpcadhbacteabmfaetdafcaad";
        // Filled: 234 https://e2.bucas.name/#puzzle=displayTest&board_w=16&board_h=16&board_edges=abdaafhbackfacocacpcabhcacrbadgcadgdaepdacqeaencadteabmdaeibaabedsdahvjskvwvomjvpjnmhhwjrphhgnkpgrinpnqrqgtnnnpgtmqnmrwmijjrbafjdhdajnthwlmnjmllnlomwoklaaaakntkiomnqnqotksnprhkqunrwswujgisfafgdweatwvwmsowlrlsonjrkvrngtqvaaaamwksqngwspwnhiqpnqwiwsoqiujsfaduepbavwppoiqwlirijnviaaaaaaaaimhgkigmgqiiwlrqqiklwtgiovntjnnvdaenbjfapppjqgmprusgvgousgvggkogaaaagoluiqoortrqkuvtgsqunqosnouqeabofqfaphjqmrmhsmtrorrmvwkrollwkvullwvvokuwrwpkvwlwqlhworglujtrbabjfufajosummiottkmrkgtaaaalktnaaaavmqlaaaapnigaaaahkrpgikktvvibacvfubasuvuiowuknvoaaaaggjiaaaaijjmqovjaaaaiisoaaaaaaaaaaaavvlgcafvbveavijvwiliaaaatqvnaaaaoslgjwgsvlrwhuqlsrtutrgrvmkrtlgmloglfadoeseajprsllkpghhlvrkhuhhraaaaaaaarkmnqmoktrvmgtmrkvrtgwwvgiiwdadietearwhtkuhwhsjukppshsspknhsaaaamsutouisvpsumonprhmowushiwqudafweueahmwuhjumjlijplulsnhlhhunaaaauksiillksuhlnvhumjovskqjqtjkfabtelfawmulujvmijpjurijhouraaaapstosksslqjkhwmqhqkworiqqvprjgwvbabgfhcausthvpnspropilpruqrlwtqqtlqtsnpljminmupmkjhuistjpgmswstgbacscdaatcadnfacoeafpcaerfacqeafqbaepcabidacpcadhbacteabmfaetdafcaad
        // Still running after a night

        // No duplicate reduction
        String G2_210 = "time=22855291m, placed=210, tried=3914287941, att/sec=171K https://e2.bucas.name/#puzzle=displayTest&board_w=16&board_h=16&board_edges=abdaafhbackfacocacpcabhcacrbadgcadgdaepdacqeaencadteabmdaeibaabedsdahvjskvwvomjvpjnmhhwjrphhgnkpgrinpnqrqgtnnnpgtmqnmrwmijjrbafjdhdajnthwlmnjmllniomwtgihjltkgrjigtgqmqgtlgmprilqunrwswujgisfafgdweatqqwmokqllwoaaaaaaaaaaaaaaaaaaaaqwlrgiiwisoinqoswsoqiujsfaduepbaqrqpkmnrwuhmaaaaaaaaaaaaaaaaaaaalmtpiommoiqoowuiovuwjnnvdaenbjfaqovjnpmohkrprvmkaaaaaaaarmorhmrmttkmmrgtqrtruhhruqlhnouqeabofqfavgtqmpqgrsjpmwksaaaaaaaaovntrnkvkounggkotnpghsknlrlsujtrbabjfufatmsuqhwmjumhksiuaaaaaaaanvijkokvuisoklqiplulkillliwitvvibacvfubasrtuwvlrmqlviigqaaaaaaaaijjmklqjsnhlqoqnuvgolgvvwwvgvvlwcafvbveatkuvlwoklwvwgsjwaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaafadoeseaujosovmjvijvjjliuoujaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaadadieteaopstmiwpjurilkvuuwokaaaaaaaaaaaavhununhhtkknsntknnsngwqndafweueashwuwkuhrwpkvwtwoiqwaaaaaaaaaaaaurhohmorkqhmtjoqskqjqtjkfabtelfawmulujvmpppjtwhpqlhwaaaaaaaaaaaahsjuowmshqkworiqqvprjgwvbabgfhcausthvpnsprophkprhvrkntqvtlqtsnpljminmupmkjhuistjpgmswstgbacscdaatcadnfacoeafpcaerfacqeafqbaepcabidacpcadhbacteabmfaetdafcaad";
        //236 after 1 second: https://e2.bucas.name/#puzzle=displayTest&board_w=16&board_h=16&board_edges=abdaafhbackfacocacpcabhcacrbadgcadgdaepdacqeaencadteabmdaeibaabedsdahvjskvwvomjvpjnmhhwjrphhgnkpgrinpnqrqgtnnnpgtmqnmrwmijjrbafjdhdajnthwlmnjmllniomwtgihjltkgrjigtgqmqgtlgmprilqunrwswujgisfafgdweatqqwmokqllwoaaaaaaaalouprgloaaaaqwlrgiiwisoinqoswsoqiujsfaduepbaqrqpkmnrwuhmsgrurtrgaaaaliriqphilmtpiommoiqoowuiovuwjnnvdaenbjfaqovjnpmohkrprvmkrtkvaaaarmorhmrmttkmmrgtqrtruhhruqlhnouqeabofqfavgtqmpqgrsjpmwkskrvwaaaaovntrnkvkounggkotnpghsknlrlsujtrbabjfufatmsuqhwmjumhksiuaaaaijpjnvijkokvuisoklqiplulkillliwitvvibacvfubasrtuwvlrmqlviigqwquiaaaaijjmklqjsnhlqoqnuvgolgvvwwvgvvlwcafvbveatkuvlwoklwvwgsjwuvusgsgvaaaaqwinhtrwaaaagtrkvphtvwppaaaafadoeseaujosovmjvijvjjliuoujaaaahgimikkgaaaaolugaaaahlsuaaaanigpdadieteaopstmiwpjurilkvuuwoknspwaaaaknvovhununhhtkknsntknnsngwqndafweueashwuwkuhrwpkvwtwoiqwaaaaggjiaaaaurhohmorkqhmtjoqskqjqtjkfabtelfawmulujvmpppjtwhpqlhwomnlaaaaaaaahsjuowmshqkworiqqvprjgwvbabgfhcausthvpnsprophkprhvrkntqvtlqtsnpljminmupmkjhuistjpgmswstgbacscdaatcadnfacoeafpcaerfacqeafqbaepcabidacpcadhbacteabmfaetdafcaad
        // No extra after 6_000_000_000 attempts
        // Duplicate reduction
        // G2R: Filled: Filled: 238 https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=abdaafhbackfacocacpcabhcacrbadgcadgdaepdacqeaencadteabmdaeibaabedsdahvjskvwvomjvpjnmhhwjrphhgnkpgrinpnqrqgtnnnpgtmqnmrwmijjrbafjdhdajnthwlmnjmllniomwtgihjltkgrjigtgqmqgtlgmprilqunrwswujgisfafgdweatqqwmokqllwoaaaagolulnkoaaaaaaaaqwlrgiiwisoinqoswsoqiujsfaduepbaqrqpkmnrwuhmsgrullogaaaanjroqphjlmtpiommoiqoowuiovuwjnnvdaenbjfaqovjnpmohkrprvmkoknvvrtkrmorhmrmttkmmrgtqrtruhhruqlhnouqeabofqfavgtqmpqgrsjpmwksnspwaaaaovntrnkvkounggkotnpghsknlrlsujtrbabjfufatmsuqhwmjumhksiuaaaagjignvijkokvuisoklqiplulkillliwitvvibacvfubasrtuwvlrmqlviigqwquiaaaaijjmklqjsnhlqoqnuvgolgvvwwvgvvlwcafvbveatkuvlwoklwvwgsjwuvuswppvjijpqphihsspaaaagtrkvphtaaaaaaaafadoeseaujosovmjvijvjjliuoujaaaaaaaaaaaasuvpaaaaaaaahlsuomnlkigmdadieteaopstmiwpjurilkvuuwokhtrwrvmthnlvvhununhhtkknsntknnsngwqndafweueashwuwkuhrwpkvwtwoiqwaaaaaaaaloupurhohmorkqhmtjoqskqjqtjkfabtelfawmulujvmpppjtwhpqlhwktnlpjttaaaahsjuowmshqkworiqqvprjgwvbabgfhcausthvpnsprophkprhvrkntqvtlqtsnpljminmupmkjhuistjpgmswstgbacscdaatcadnfacoeafpcaerfacqeafqbaepcabidacpcadhbacteabmfaetdafcaad
        String G2_206 = "Attempts: 14895836K, placed=165|206, att/sec=205K, possible=3e+64 best=https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=abdaafhbackfacpcabhcabgbabjbacsbaencadweadgdaendafoeaelfaeueaabedsdahvjskvwvpsuvhwusgiiwjjlisiujngriwvjggtqvnqgtovjqlrwvujtrbafjdpcajnmpwlmnulpluqrliklqlqjkuiwqrilijnviqwingsjwjuhswswutgwsfafgcrbamorrmjvopppjropplnkojminwksmlwokvvlwijvvjrijhourwmsowuhmfadubjfaronjvntopmonpqgmkwhqiliwsuhloujulwmuvgwwaaaaaaaaspwnhiqpdacifqeangwqtmrgokqmgtrkhjntiggjhhlgjqphmqgqwoiqaaaaaaaawtgiqvntcafveteawhptruhhqlhurqwlnouqglloljmlprsjgrtrijuraaaaaaaagsquntksfabtaaaaaaaaaaaaaaaawokuuvgolgvvmkigsssktopsaaaaaaaaaaaaqwsokuhwbafuaaaaaaaaaaaaaaaaaaaagrjkvmkrijjmskqjppskaaaaaaaaaaaaaaaaaaaafafuaaaaaaaaaaaaaaaaaaaajhukkprhjttpaaaaaaaaaaaaaaaaaaaaaaaaaaaafacremfatrvmhmorttkmrsmtutmsaaaaaaaaaaaaphtvtrwhphkrvrkhkmnrtplmcabpfwdavwtwovuwkokvmmiomrwmaaaaaaaaaaaatlgmwollknvokpgnnqrplhwqbachdidatvviusuvknhsiomnwuioaaaaaaaaaaaaglorlkplvulkgoluriqowpmicaepdofavmjoujvmhhwjmkqhillkaaaaaaaatjisosujphsslsnhlrlsqvprmqlveacqfhcajlthvhnlwmqhqntmlktnaaaaaaaaijpjumhjspgmnsvplgospniglomncacocdaatcadnfacqfaftdafteadaaaaaaaapdaehdadgcadvbacoeabibaemdabcaad";

        String G2R_197 = "Attempts: 11965K, placed=168|197, att/sec=213K, possible=2e+65 best=https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=abdaacsbabhcafubafqfaaaaaaaaadofacidabpcabjbacvbaepcaeueacqeaadcdgcasjwghhwjunhhqgtnaaaaaaaaolugirilphkrjqphvntqpmonulwmqikldadicpcawnspwlmnhuqltmsuaaaaaaaauwovinqwkvrnpsuvtgwsouvgwswukppsdaepcrfasjprminjqooisnqoaaaaaaaaomniqgqmrjkguhsjwushvusuwokupstoeaesfjbapppjnsvpowmsqlhwaaaaaaaankpgqmokkigmsjgishvjssphkqjsttlqeabtbgbapnigvhunmwuhhqkwaaaaaaaaprhkopprgnnpgrinvwkrpmiwjvomlrwvbacrbjfaistjuhlsusthksssaaaaaaaahmkqpqgmngwqigtgkoggiqwooriqwpkrcadpfwdatwvwlrqwtrqrsmtraaaaaaaaksiugruswmmrttkmgiwtwgiiikkgkntkdaendhdavrkhqunrqrlutrgraaaaaaaaijjmuoujmnlokolnwuioisouknhstovneafodtcaksntnplsllkpgmtlaaaaaaaajoqtuqnolvmqlwvviliwouplhwkuvkvwfackcnfansnnlrlskgtrtnpgaaaaaaaaqnqonvjnmkrvvrtkilprplulktnlvvitcafvaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaafhcawmqhujvmhukjjtrupjttmlljwoklaaaaaaaapqrqphiqhruhqvprvlgvfaelcocaqwsovjgwkqtjrpnqtwhplwvwksmwaaaaaaaargtmimhgupmmpvwpgtqveaetcdaasdadgdadteadncaehbacveabmfaeaaaaibaetfabhbafmdabweadqbaeeaab";
        //With Walker_G2R: Filled: 231 https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=abdaacsbabhcafubafqfafgfafufadofacidabpcabjbacvbaepcaeueacqeaadcdgcasjwghhwjunhhqgtngjigaaaaolugirilphkrjqphvntqpmonulwmqikldadicpcawnspwlmnhuqltmsuaaaavvijuwovinqwkvrnpsuvtgwsouvgwswukppsdaepcrfasjprminjqooisnqovokniisoomniqgqmrjkguhsjwushvusuwokupstoeaesfjbapppjnsvpowmsqlhwkvulaaaankpgqmokkigmsjgishvjssphkqjsttlqeabtbgbapnigvhunmwuhhqkwugsqaaaaprhkopprgnnpgrinvwkrpmiwjvomlrwvbacrbjfaistjuhlsusthksssaaaaqqwthmkqpqgmngwqigtgkoggiqwooriqwpkrcadpfwdatwvwlrqwtrqrsmtraaaaaaaaksiugruswmmrttkmgiwtwgiiikkgkntkdaendhdavrkhqunrqrlutrgrhourvmjoijjmuoujmnlokolnwuioisouknhstovneafodtcaksntnplsllkpgmtlaaaaaaaajoqtuqnolvmqlwvviliwouplhwkuvkvwfackcnfansnnlrlskgtrtnpgrkmnaaaaqnqonvjnmkrvvrtkilprplulktnlvvitcafvftdaaaaallkithjlaaaammsohmrmqntmjronrmortrvmphhraaaanlvhijjlaaaadufaaaaakounaaaavijnaaaarhmotrwhaaaaosujaaaaaaaaaaaavjqoaaaaaaaafhcawmqhujvmhukjjtrupjttmlljwoklrgloaaaapqrqphiqhruhqvprvlgvfaelcocaqwsovjgwkqtjrpnqtwhplwvwksmwaaaammiorgtmimhgupmmpvwpgtqveaetcdaasdadgdadteadncaehbacveabmfaeqeafibaetfabhbafmdabweadqbaeeaab

        String G2R_194 = "Attempts: 824K, placed=165|194, att/sec=164K, possible=8e+62 best=https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=adcaaftdaelfabteaaaaaaaaabhcacvbadtcadhdadidadgdaendaeteadteaacdcnfatovnllwothjlaaaaaaaahlsuvhnltrwhhouriisogpninsvptgwstnqgcaenfqeavntqwlmnjmllaaaaaaaasujonhhuwjhhumhjsutmnkouvulkwswuqugseaeuemfatplmmiwpliriaaaaaaaajpjihjqphukjhmwutlgmoupllpluwnspgwqneadwfubalwmuwvgwrnkvaaaaaaaajnmpqoqnkvkowlwvgvvlpsuvlgossgvgqiigdacibveamkrvgtrkkmttaaaaaaaammupqhwmkrphwvlrvlwvuqrlooiqvjqoiggjcadgeqbartrqrsmttopsaaaaaaaauisowquipqrqlvmqwtwvrujtiowuqwsogsjwdadsbgbartrgmrgtphhraaaaaaaasjgiurijrmormrwmwpkrjttpwhptssphjprsdaepbpcarilpgmkihmrmaaaaaaaagmspijjmoqtjwoiqknvotkknppskpjppronjeaboaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaabjfannvjtksnsmwkmiomaaaaaaaaaaaaimhgnrkmuhhrunvhjminqntmnpgncadpfwdavkvwsiukwiliomniaaaaaaaaaaaahsjukssshvjsvijviwgitqqwgmpqdabmdofavmjoujvmlijjnqwiaaaaaaaaaaaajuousthujistjnvigrinqvprphtvbafhfjbajrijvmtrjvomwppvaaaaaaaaaaaaolughuqlsuvuvgouikkgprhktusrfadubeaaibaetfaboeafpcaepcacrfacgfafufafqfafvcafocackfachcafsbacdaab";

        // 1 days work
        String G2R_203 = "Attempts: 11280216K, placed=162|203, att/sec=191K, possible=1e+62 best=https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=adcaacidaencaboeabjbaeqbafqeafgfadufaepdaeueabveafjbaelfadweaacdcocaiqoongwqouvgjuouqrluqrtrgrtraaaaaaaaunvhvijnjvvilrwvwpkrcaepcrfaonjrwlmnvmqlorhmlslrthustvphaaaaaaaavtkujoqtvuwowswukssseaesfubajosummsoqhwmhlghljmlaaaaaaaaaaaaaaaaklwoqiklwiliwgiisqugeacqbhcasknhsiukwquigtnqmrgtaaaaaaaaaaaaaaaawushkjhulijjisoiuhlscafhcnfansnnutmsusrtntksgiwtaaaaaaaaaaaaaaaastgwhjntjrijopprlulpfafuftdanpgtmonprglokoggwuioaaaaaaaaaaaaaaaagmtlnrkmingrplsnlkilfackdidaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaakprhgnkpsvpnitvvcadtdsdaaaaaaaaaaaaaaaaaaaaaaaaaijjmaaaaaaaaaaaartkvkkntppskvwppdafwdpcajnmptmqnwuhmrhouhunhaaaaaaaaaaaaaaaagwwvkrvwnkvrsmwkpqgmfafqcvbamkrvqhmkhwjhokuwnvokaaaaaaaaaaaaaaaawoiqvntovjnnwgsjgjigfabjbtfarwhtmmrwjovmuisoommihgimqmqgaaaaaaaaiwpmtqqwnouqsnqoigpnbabgfvcahnlvrqunvntqspwnmmupinjmqwinaaaaaaaapjijqovjuploqrqpphkrbafhcpcalmtpujvmttpjwhptuqlhjklqigmkaaaaaaaaikkgvwvklrqwqvprkokvfadocsbatjisvomjpstopgmslloglkplmttklqttoqnqkwhqvjgwqphjpjppkgrjdadgbeaaibaemdabteadmfaeoeafpbaeteabteaendaehdadgcadhbacpcabrbacdaab";
        // Filled: 236 https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=adcaacidaencaboeabjbaeqbafqeafgfadufaepdaeueabveafjbaelfadweaacdcocaiqoongwqouvgjuouqrluqrtrgrtrusgrphssunvhvijnjvvilrwvwpkrcaepcrfaonjrwlmnvmqlorhmlslrthustvphgtqvaaaavtkujoqtvuwowswukssseaesfubajosummsoqhwmhlghljmlumhjaaaaqoriaaaaklwoqiklwiliwgiisqugeacqbhcasknhsiukwquigtnqmrgtaaaakolnrrmophhrwushkjhulijjisoiuhlscafhcnfansnnutmsusrtntksgiwtaaaalwvwmulwhwkustgwhjntjrijopprlulpfafuftdanpgtmonprglokoggwuiovpsuaaaalpriaaaagmtlnrkmingrplsnlkilfackdidagtginlktlwolaaaaijursiujgqiiaaaanlomthjlkprhgnkpsvpnitvvcadtdsdaaaaaaaaaoqwsaaaauhhraaaaijjmskqjounkaaaartkvkkntppskvwppdafwdpcajnmptmqnwuhmrhouhunhjtrujkqtqmokaaaagwwvkrvwnkvrsmwkpqgmfafqcvbamkrvqhmkhwjhokuwnvokrkhvaaaaomniaaaawoiqvntovjnnwgsjgjigfabjbtfarwhtmmrwjovmuisoommihgimqmqgaaaavmtriwpmtqqwnouqsnqoigpnbabgfvcahnlvrqunvntqspwnmmupinjmqwinmsowaaaapjijqovjuploqrqpphkrbafhcpcalmtpujvmttpjwhptuqlhjklqigmkoslgaaaaikkgvwvklrqwqvprkokvfadocsbatjisvomjpstopgmslloglkplmttklqttoqnqkwhqvjgwqphjpjppkgrjdadgbeaaibaemdabteadmfaeoeafpbaeteabteaendaehdadgcadhbacpcabrbacdaab

        String OLE1 = "https://e2.bucas.name/#puzzle=go4gold&board_w=16&board_h=16&board_edges=aaaaaepcadweaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaacqeafvcaaaaaaaapropwmmraaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaqqwtvgtqaaaaaaaaolnkmnwlvjnnaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaahukjwswutopsaaaaaaaaaaaawpmiaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaawmqhaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaijjmaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaatovnaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaatrqraaaaaaaaaaaanjmivmujtrsmaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaorglqvprntqvaaaaaaaamwksuiowaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaapnsvqosnaaaaaaaaaaaaoeafaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaseaeaaaaaaaa";

        String Thomas1 = "https://e2.bucas.name/#puzzle=ThomasEgense&board_w=16&board_h=16&board_edges=abdaabgbacrbadgcacidadpcadgdaftdafgfafqfaelfabteachbafvcacrfaadcdofagllorqwlgmpqiwpmpkrwgrjktusrgoluqwsolwvwtqqwhwmqvgwwringdadifoealnkowlmnprilpnqrrqunjklqsntklomnsnqovijnqwoimulwwswunhlsdadheseaksssmwksiliwqikluksilwoktwvwmmrwqlvmjmllonpmlktnwhqklsuhdadsendasvpnkvwvitvvkuvtshwuourhvpsurhkpvrkhlslrpwnstgiwqmqgupmmdaepdtcaplmtwollvuwovusuwokuriqosouiknvokpgnlsnpnnnsiomnqtjomqnteacqckfamttklqttwinqstjikkntqhmkukjhvkokgtrknpgtnigpmhgijnthnpgncabpfhbatrwhtkvrnhskjumhnkoumnrkjminokqmrvmkgouvggkogjigttpjgigtbaeibhcawkuhvulksthumsutommsrmhmijjmqovjmjvouhsjkrphijjrprsjgtmreadtcocauqnolhwqhrphusgrmtrshjltjlijvhnlvjshskqjppskjijpsoiimmiodabmcnfanvjnwkrvpllkgoslrrmoluqriowunjrosiujqphistopjkqtigmkisjgbacsfubajtrurvmtlgvvsgvgmtlgqvgtwppvroppuplohsspowmsqngwmpjnjpppcaepaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaencahhunhruhtrqrqvprphtvwjhhgwvjgsjwtgwsiiwgwquivntqqoqnvmjofaemcdaaufadufafqeafpbaetfabhcafvbacjfabwdafweadueaeteaeqbaejbabeaab";
        String Thomas2 = "https://e2.bucas.name/#puzzle=ThomasEgense&board_w=16&board_h=16&board_edges=abdaabgbacrbadgcacidadpcadgdaftdafgfafqfaelfabteachbafvcacrfaadcdofagllorqwlgmpqiwpmpkrwgrjktusrgoluqwsolwvwtqqwhwmqvgwwringdadifoealnkowlmnprilpnqrrqunjklqsntklomnsnqovijnqwoimulwwswunhlsdadheseaksssmwksiliwqikluksilwoktwvwmmrwqlvmjmllonpmlktnwhqklsuhdadsendasvpnkvwvitvvkuvtshwuourhvpsurhkpvrkhlslrpwnstgiwqmqgupmmdaepdtcaplmtwollvuwovusuwokuriqosouiknvokpgnlsnpnnnsiomnqtjomqnteacqckfamttklqttwinqstjikkntqhmkukjhvkokgtrknpgtnigpmhgijnthnpgncabpfhbatrwhtkvrnhskjumhnkoumnrkjminokqmrvmkgouvggkogjigttpjgigtbaeibhcawkuhvulksthumsutommsrmhmijjmqovjmjvouhsjkrphijjrprsjgtmreadtcocauqnolhwqhrphusgrmtrshjltjlijvhnlvjshskqjppskjijpsoiimmiodabmcnfanvjnwkrvpllkgoslrrmoluqriowunjrosiujqphistopjkqtigmkisjgbacsfubajtrurvmtlgvvsgvgmtlgqvgtwppvroppuplohsspowmsqngwmpjnjpppcaepaaaarhmomwuhvvlwvijvlirigqiipqrqphjqlghhsqugaaaaaaaaaaaaaaaaeaboaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaujvmbafjencahhunhruhtrqrqvprphtvwjhhgwvjgsjwtgwsiiwgwquivntqqoqnvmjofaemcdaaufadufafqeafpbaetfabhcafvbacjfabwdafweadueaeteaeqbaejbabeaab";
        // Filled: 243 https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=abdaabgbacrbadgcacidadpcadgdaftdafgfafqfaelfabteachbafvcacrfaadcdofagllorqwlgmpqiwpmpkrwgrjktusrgoluqwsolwvwtqqwhwmqvgwwringdadifoealnkowlmnprilpnqrrqunjklqsntklomnsnqovijnqwoimulwwswunhlsdadheseaksssmwksiliwqikluksilwoktwvwmmrwqlvmjmllonpmlktnwhqklsuhdadsendasvpnkvwvitvvkuvtshwuourhvpsurhkpvrkhlslrpwnstgiwqmqgupmmdaepdtcaplmtwollvuwovusuwokuriqosouiknvokpgnlsnpnnnsiomnqtjomqnteacqckfamttklqttwinqstjikkntqhmkukjhvkokgtrknpgtnigpmhgijnthnpgncabpfhbatrwhtkvrnhskjumhnkoumnrkjminokqmrvmkgouvggkogjigttpjgigtbaeibhcawkuhvulksthumsutommsrmhmijjmqovjmjvouhsjkrphijjrprsjgtmreadtcocauqnolhwqhrphusgrmtrshjltjlijvhnlvjshskqjppskjijpsoiimmiodabmcnfanvjnwkrvpllkgoslrrmoluqriowunjrosiujqphistopjkqtigmkisjgbacsfubajtrurvmtlgvvsgvgmtlgqvgtwppvroppuplohsspowmsqngwmpjnjpppcaepaaaarhmomwuhvvlwvijvlirigqiipqrqphjqlghhsqugaaaagtnqaaaaaaaaeabobveaaaaaunhhaaaaaaaaaaaaaaaaaaaajwgshptwaaaalrwvnkvraaaaujvmbafjencavhunhruhtrqrqvprphtvwjhhgwvjaaaatgwsiiwgwquivntqqoqnvmjofaemcdaaufadufafqeafpbaetfabhcafvbacjfabwdafweadueaeteaeqbaejbabeaab

        //        fillValids(Thomas2, WalkerG2R::new, BacktrackSolver::new);
        String Strategy1 = "Best for 'main': 208 https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=acdaadgcaendafoeacrfabpcacvbabhcabjbaaaaaaaaadpcafwdabtfaeibaabedweagiiwnqwiovjqrnkvplsnvmqlhmrmjvomaaaaaaaapqgmwsoqtgwsigtgbabgemfainjmwlmnjmllkigmsouiqtjorgrtouvgaaaaaaaaghhlourhwswuthusbafhfqeajklqmnrklvhngsgvuvpsjgwvrusgvtkuaaaaaaaahtvprqrtwlrquqrlfafqepballkprwvlhptwgnkppmonwuhmsrtukgtraaaaaaaavmjorgtmrjkgronjfadobveakokvvntotkknkgikoslghwustwvwtgiwaaaaaaaajnvitqvnkwhqnspwdadseteaksnttopsklwoirillslruvusvlgviwilaaaaaaaavkvwvulkhsjuphssdadheseanqosphjqwkuhillklwoluiowgqiiiklqaaaaaaaavitvlprijijpstjidafteueaoujujsiuuhlslsnhoiisommiijjmlijjaaaaaaaattkmrwhtjhhwjumhfafuepcajnmpiomnlugonrquiqormqgqjskqjwgsaaaaaaaaknvohsknhvjsmkrvfackaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaavwlwksmwjprsroppcacoaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaalwvvmqhwrqpqphiqcafhboeaiqwonouqsujojtrulqttooiquplohkrpaaaaaaaavhunhrphpnqrigpnfafgelfawmulujvmjrijrmortrsmingrlktnrvwkaaaaaaaaukjhprhkqvprpnsvfacnfjbaurijvmtriwpmokuwsiukggjitqvgwtqqaaaaaaaajlthhuqlpmmuspgmcacpbdaaidadteadpdaeufadubafjfabvcafqeacncaehbacteabqbaemdabgdadcaad";
        // Filled: 237 https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=acdaadgcaendafoeacrfabpcacvbabhcabjbacsbaaaaadpcafwdabtfaeibaabedweagiiwnqwiovjqrnkvplsnvmqlhmrmjvomaaaatmsupqgmwsoqtgwsigtgbabgemfainjmwlmnjmllkigmsouiqtjorgrtouvglpluaaaaghhlourhwswuthusbafhfqeajklqmnrklvhngsgvuvpsjgwvrusgvtkuaaaawpkrhtvprqrtwlrquqrlfafqepballkprwvlhptwgnkppmonwuhmsrtukgtrnnpgkounvmjorgtmrjkgronjfadobveakokvvntotkknkgikoslghwustwvwtgiwaaaauiwqjnvitqvnkwhqnspwdadseteaksnttopsklwoirillslruvusvlgviwilaaaawwvgvkvwvulkhsjuphssdadheseanqosphjqwkuhillklwoluiowgqiiiklqaaaavvijvitvlprijijpstjidafteueaoujujsiuuhlslsnhoiisommiijjmlijjaaaaimhgttkmrwhtjhhwjumhfafuepcajnmpiomnlugonrquiqormqgqjskqjwgsmsowaaaaknvohsknhvjsmkrvfackaaaamtlgmqntaaaaqnqoaaaagwqnaaaagsquommsrwmmvwlwksmwjprsroppcacocrbaaaaansnnskssqtjkaaaaqmokaaaaqlhwmtplaaaalwvvmqhwrqpqphiqcafhboeaiqwonouqsujojtrulqttooiquplohkrpaaaatnqgvhunhrphpnqrigpnfafgelfawmulujvmjrijrmortrsmingrlktnrvwkrkhvqhmkukjhprhkqvprpnsvfacnfjbaurijvmtriwpmokuwsiukggjitqvgwtqqhjntaaaajlthhuqlpmmuspgmcacpbdaaidadteadpdaeufadubafjfabvcafqeacncaehbacteabqbaemdabgdadcaad
        String Strategy2 = "Best for 'main': 197 https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=abeaaeqbabveachbacpcafvcacnfaencaaaaaaaaaboeabgbafhbafufadufaabdeibaqooivuwohmwupjnmvvijntqvnpgtaaaaaaaaoiisgpnihkrpuhwkusthbacsbmdaonpmwlmnwollnjroistjqugsgoluaaaaaaaaikkgnhskruhhwswutgwscadgdteapjttminjlprirhkptvphgwwvlrqwaaaaaaaaksiusphshiqpwquiwinqdaciaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaiwgihtrwqvgtusuvnhlscafhaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaagtgirgrtgjigumhjlljmfaelendarkmnvkokpgnkllogwvwlwkrvtnlkaaaaaaaagouvrgloisjghvjsjqoveacqdhdamrmhopprnqrpoqnqwtqqrkgtlqikaaaaaaaauplolsnpjuhsjtruopstcabpdofamjvopjijrijjngriqiiggmkiijjmaaaaaaaaluqrnrquhourrrmosjprbabjfgfavvlgitvvjkqtrwpkiliwkvuljnnvaaaaaaaaqlhwqttlusrtmwksppvwbaepfoealnkovijnqwoipmiwiommunkonsnnaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaemfakqhmjklqoggkimhgmsomksssnqoslhuqaaaaaaaaaaaaaaaaaaaaaaaaaaaafjbahhwjlsuhgvgshunvoujuaaaaaaaauvtkrtkvhjltskqjntkkjoqtkqmoeafqbhcawmqhujvmgwvjnspwjwgsaaaaaaaatrsmkhvrlghhqmqgkrvmqvprmjovfabjcocaqwsovwtwvlrwplulgmtlaaaaaaaaskppvwvkhptwqrqpvmtrpqgmoriqbacrcdaasdadtcadrfacubafteabaaaaaaaapcaevbactfabqfaftdafgdadidadcaad";
        String Strategy3 = "Best for 'main': 211 https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=abeaabgbaepbadweaepdadteaftdafgfaaaaaaaaafvcaemfaeseafqeadufaabdeibagpnipvwpwkrvpgnktgigtrkggloraaaaaaaavoknmjvoshvjqkwhuvtkbacvbjbannvjwlmnrwvlnspwiujskjhuoqtjaaaaaaaakkgivkokvulkwswuthuscafhbveavlwvmtplvvitphtvjumhhwkutgiwaaaaaaaagwwvoiqwllkiwoklunkofacneqbawlrqpluliriltrqrmorrkuwoisouaaaaaaaawinqqphikrwpkhvrkprhcabpbtearsmtujosijpjqphjrilpwiliommiaaaaaaaannpghhunwushvgourusgbafueteamqntosnqphsshlghlogllnkompjnaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaeueanrqunkvrsntkgwqngsjwksssjgisaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaendaqrpnvmkrtlgmqttljkqtsmwkijjmaaaaaaaaaaaaiwquvwlwmsowjprscadpdhdaptwhkkntgrjktusrqrluwhtrjnthaaaaaaaaaaaaqovjllwoomnlrwmmdafwdgcawvjgntovjistsoiilugotmsuttkmaaaaaaaaaaaavusuwovunjromlljfaelcpcajttpopstskppigmkgkogsiukklqiaaaaaaaaaaaaslrlvhnlrphhloupeabocsbatgwssqugpqrqmqgqooiquqnoqwtqpmiwaaaaaaaartrgnlkthwqluhmwbafhbhcawmqhujvmrijjggjiiiwgnjmitrujingrqoqnaaaarhoukrphqvprmjovfabjcocaqwsovwtwjhhwjlthwmulmsomuvpsgtqvqvntaaaaoujupmmupqgmoriqbacrcdaasdadtcadhbactfabufafoeafpcaeqeacncaeaaaajbafmdabgdadidadcaad";
        // Filled: 238 https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=abeaabgbaepbadweaepdadteaftdafgfafqfackfafvcaemfaeseafqeadufaabdeibagpnipvwpwkrvpgnktgigtrkgglorqjklaaaavoknmjvoshvjqkwhuvtkbacvbjbannvjwlmnrwvlnspwiujskjhuoqtjaaaagimhkkgivkokvulkwswuthuscafhbveavlwvmtplvvitphtvjumhhwkutgiwtnqgaaaagwwvoiqwllkiwoklunkofacneqbawlrqpluliriltrqrmorrkuwoisouaaaauqlhwinqqphikrwpkhvrkprhcabpbtearsmtujosijpjqphjrilpwiliommionpmaaaannpghhunwushvgourusgbafueteamqntosnqphsshlghlogllnkompjnppjpnsvpaaaaaaaaaaaaoppraaaafadoeueanrqunkvrsntkgwqngsjwksssjgisaaaavlgvgoslmnioaaaaaaaavijndaciendaqrpnvmkrtlgmqttljkqtsmwkijjmuhsjaaaasuhliwquvwlwmsowjprscadpdhdaptwhkkntgrjktusrqrluwhtrjnthsnnnrkmnaaaaqovjllwoomnlrwmmdafwdgcawvjgntovjistsoiilugotmsuttkmaaaamhmrruhhvusuwovunjromlljfaelcpcajttpopstskppigmkgkogsiukklqilkplaaaahlsnslrlvhnlrphhloupeabocsbatgwssqugpqrqmqgqooiquqnoqwtqpmiwokqmaaaartrgnlkthwqluhmwbafhbhcawmqhujvmrijjggjiiiwgnjmitrujingrqoqnwuiorhoukrphqvprmjovfabjcocaqwsovwtwjhhwjlthwmulmsomuvpsgtqvqvntaaaaoujupmmupqgmoriqbacrcdaasdadtcadhbactfabufafoeafpcaeqeacncaerfacjbafmdabgdadidadcaad
        // Filled: 239 https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=abeaabgbaepbadweaepdadteaftdafgfafqfacrfafvcaemfaeseafqeadufaabdeibagpnipvwpwkrvpgnktgigtrkgglorqjklaaaavoknmjvoshvjqkwhuvtkbacvbjbannvjwlmnrwvlnspwiujskjhuoqtjaaaaaaaakkgivkokvulkwswuthuscafhbveavlwvmtplvvitphtvjumhhwkutgiwoslggvgsgwwvoiqwllkiwoklunkofacneqbawlrqpluliriltrqrmorrkuwoisouaaaagqiiwinqqphikrwpkhvrkprhcabpbtearsmtujosijpjqphjrilpwiliommispgmaaaannpghhunwushvgourusgbafueteamqntosnqphsshlghlogllnkompjngtnpaaaapjppuhsjsknhaaaaaaaafadoeueanrqunkvrsntkgwqngsjwksssjgisaaaanvhupnsvaaaaaaaarvmtvijvdaciendaqrpnvmkrtlgmqttljkqtsmwkijjmskqjaaaasuhliwquvwlwmsowjprscadpdhdaptwhkkntgrjktusrqrluwhtrjnthqgtnimhgaaaaqovjllwoomnlrwmmdafwdgcawvjgntovjistsoiilugotmsuttkmaaaaaaaahuqlvusuwovunjromlljfaelcpcajttpopstskppigmkgkogsiukklqisnplpmonqlvmslrlvhnlrphhloupeabocsbatgwssqugpqrqmqgqooiquqnoqwtqpmiwokqmaaaartrgnlkthwqluhmwbafhbhcawmqhujvmrijjggjiiiwgnjmitrujingrqoqnwuiorhoukrphqvprmjovfabjcocaqwsovwtwjhhwjlthwmulmsomuvpsgtqvqvntaaaaoujupmmupqgmoriqbacrcdaasdadtcadhbactfabufafoeafpcaeqeacncaekfacjbafmdabgdadidadcaad
        // Filled: 240 https://e2.bucas.name/#puzzle=TokeEskildsen&board_w=16&board_h=16&board_edges=abeaabgbaepbadweaepdadteaftdafgfafqfacrfafvcaemfaeseafqeadufaabdeibagpnipvwpwkrvpgnktgigtrkgglorqjklaaaavoknmjvoshvjqkwhuvtkbacvbjbannvjwlmnrwvlnspwiujskjhuoqtjaaaavijvkkgivkokvulkwswuthuscafhbveavlwvmtplvvitphtvjumhhwkutgiwvvlgaaaagwwvoiqwllkiwoklunkofacneqbawlrqpluliriltrqrmorrkuwoisoulgosaaaawinqqphikrwpkhvrkprhcabpbtearsmtujosijpjqphjrilpwiliommionpmpgtnnnpghhunwushvgourusgbafueteamqntosnqphsshlghlogllnkompjnpjppaaaapropuhhraaaaorhmaaaafadoeueanrqunkvrsntkgwqngsjwksssjgisaaaarijuomnihgimsgvgaaaalijjdaciendaqrpnvmkrtlgmqttljkqtsmwkijjmuhsjaaaaaaaaiwquvwlwmsowjprscadpdhdaptwhkkntgrjktusrqrluwhtrjnthsvpnaaaaqjskqovjllwoomnlrwmmdafwdgcawvjgntovjistsoiilugotmsuttkmaaaaplsnsuhlvusuwovunjromlljfaelcpcajttpopstskppigmkgkogsiukklqilkplaaaahlsnslrlvhnlrphhloupeabocsbatgwssqugpqrqmqgqooiquqnoqwtqpmiwokqmaaaartrgnlkthwqluhmwbafhbhcawmqhujvmrijjggjiiiwgnjmitrujingrqoqnwuiorhoukrphqvprmjovfabjcocaqwsovwtwjhhwjlthwmulmsomuvpsgtqvqvntaaaaoujupmmupqgmoriqbacrcdaasdadtcadhbactfabufafoeafpcaeqeacncaekfacjbafmdabgdadidadcaad

        fillValids(Strategy3, WalkerG2R::new, BacktrackSolver::new);
    }

    private void fillValids(
            String bucasURL, Function<EBoard, Walker> walkerFactory, BiFunction<EBoard, Walker, Runnable> solverFactory) {
        EBoard board = loadBoard(bucasURL);
        new BoardVisualiser(board);

        Walker walker = walkerFactory.apply(board);
        Runnable solver = solverFactory.apply(board, walker);
        long runTime = -System.currentTimeMillis();
        solver.run();
        runTime += System.currentTimeMillis();
        System.out.printf("Done. Placed %d pieces in %.2f seconds\n", board.getFilledCount(), runTime/1000.0);
        try {
            Thread.sleep(1000000000L);
        } catch (InterruptedException e) {
            throw new RuntimeException(e);
        }
    }

    private EBoard loadBoard(String bucasURL) {
        Matcher m = BUCAS_PIECES.matcher(bucasURL);
        if (!m.matches()) {
            throw new IllegalArgumentException("Unable to extract pieces from '" + bucasURL + "'");
        }
        String bucasPieces = m.group(1);

        EPieces pieces = EPieces.getEternii();
        EBoard board = new EBoard(pieces, 16, 16);
        board.registerFreePieces(pieces.getBag());

        int x = 0;
        int y = 0;
        for (int i = 0 ; i < bucasPieces.length() ; i+=4) {
            String bc = bucasPieces.substring(i, i+4);
            if (!"aaaa".equals(bc)) {
                int piece = pieces.getPieceFromString(bc);
                int rotation = pieces.getRotationFromString(bc);
                board.placePiece(x, y, piece, rotation);
            }
            x++;
            if (x == board.getWidth()) {
                x = 0;
                y++;
            }
        }
        return board;
    }
}
